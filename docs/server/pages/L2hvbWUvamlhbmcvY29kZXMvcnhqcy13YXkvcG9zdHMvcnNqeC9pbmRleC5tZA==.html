<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/cef7f7dfbd1707c9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cef7f7dfbd1707c9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-9a57abc21a6ff2fb.js" defer=""></script><script src="/_next/static/chunks/framework-4cb13ccabc5e927a.js" defer=""></script><script src="/_next/static/chunks/main-f52f4863361e2010.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b488468e8333c5c.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bid%5D-6fc55a1d80ee6b4e.js" defer=""></script><script src="/_next/static/f9hAjcuOP35Y7HD3O1xXE/_buildManifest.js" defer=""></script><script src="/_next/static/f9hAjcuOP35Y7HD3O1xXE/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class=" flex items-start justify-start p-1 overflow-y-hidden w-full xs:p-2 "><div class=" z-10 flex items-start justify-start"><div class="relative w-full"><ol class="w-0 -z-10 invisible relative list-disc xs:min-w-1/4 py-1 h-[96vh]"><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9pbmRleC5tZA==">rsjx</a><ol class="list-disc"><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvaW5kZXgubWQ=">conbination-operators</a><ol class="list-disc"><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvaW5kZXgubWQ=">index</a></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvbWVyZ2UubWQ=">merge</a></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvcmFjZS5tZA==">race</a></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvc3RhcnRXaXRoLm1k">startWith</a></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20ubWQ=">withLatestFrom</a></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvemlwLWNvbmJpbmVMYXRlc3QubWQ=">zip-conbineLatest</a></li></ol></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL2luZGV4Lm1k">high-order Observables</a><ol class="list-disc"><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL2NvbmNhdEFsbC1tZXJnZUFsbC5tZA==">concatAll-mergeAll</a></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL2luZGV4Lm1k">index</a></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL3N3aXRjaEFMTC1leGhhdXN0Lm1k">switchALL-exhaust</a></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL3ppcEFsbC1jb25iaW5lQWxsLm1k">zipAll-conbineAll</a></li></ol></li><li class="mx-4"><a href="/L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9pbmRleC5tZA==">index</a></li></ol></li></ol><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="absolute top-0 left-full cursor-pointer z-10 h-8 ml-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></div></div><div class=" w-full flex-col  items-center  justify-start "><div class="w-full flex gap-4 items-center justify-center relative h-8"><h2 class="font-bold text-3xl">The Rxjs Way</h2><a href="https://github.com/jiangfan233/rxjs-way" target="_blank"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="2rem" width="2rem" xmlns="http://www.w3.org/2000/svg"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></a></div><div class="p-4 w-full flex flex-col items-center"><div class="w-full"><p>rxjs 既实现了观察者模式又实现了迭代器模式；</p>
<p>观察者模式：</p>
<ul>
<li>
作为一个controller把数据源（用户行为）和处理器（handler）通过source$.subscribe(observer)结合在一起；
</li>
<li>通过运算符组建数据流通管道处理数据；</li>
</ul>
迭代器模式：
<ul>
<li>数据源要求观察者（subscriber）必须实现next、complete、error中至少一个方法，从而保证数据流通；</li>
<li>source$.subscribe(observer)观察者作为参数交给数据源，保证观察者“随时可用”</li>
</ul>
<p>高阶函数可用来保存执行上下文 context,从而摆脱 this 困扰,但也因此不能直接使用链式调用；</p>
<p>关于 fakeRepeatWhen(repeatWhen) 的问题：</p>
<ul>
    <li>期望：<br>
        1、controller$数据流complete的时候能够下游也能正常结束，<br>
        2、controller$数据流complete的时候能够在重新订阅自身
    </li>
    <li>
        实际：<br>
        1、controller$数据流只是不再产生数据，不再调用nextFunc了<br>
        2、实际上当controller$数据流complete的时候，并没有调用observer.complete,即下游并没有被通知到。<br>
        3、而且因为递归中缺少判断条件，会导致无限循环
    </li>
    <li>
        解决方法：<br>
        当一个Observable 还有数据产生时，会先调用observer.next，
        然后在某一个时刻调用 observer.complete<br>
        如果该Observable 已经没有数据，会直接调用 observer.complete<br>
        所以只需要维护一个根据 observer.next 是否调用的来改变状态的状态变量即可<br>
        该变量同时也表示Observable是否已经complete
    </li>
    <li>
        上述方法缺陷：<br>
        如果fakeRepeatWhen(notifier)中notifier返回一个cold Observable，
        该Observable在每次调用完observer.next 之后调用 observer.complete，
        又会导致 controller$ 重新订阅 =&gt; 无限循环;<br>
        关键在于如何知道controller$ 什么时候应该重新订阅，什么时候应该调用observer.complete
    </li>
</ul>
<p><strong>合并运算符</strong></p>
<ul>
    <li>merge用于合并多个数据源，常用于异步处理多个数据源，先到先得；可指定一个concurrent用与控制数据源并行数量。</li>
    <li>
        zip和combineLatest的区别在于<br>
zip每吐出一个数据集合都需要等待所有数据源吐出数据（数据源的数据是 and 的关系）;<br>
combineLatest 仅仅在第一次吐出数据集合的时候等待所有数据源，后面要任意数据源产生数据都会吐出数据集合（数据源的数据从 and 变为 or）<br>
    combineLatest 小缺陷：<br>
    对于同时到来的两个或多个数据，本应该产生一个输出，实际结果却产生了两个或多个，<br>
    因为多个数据源同时产生数据，同时产生多个宏任务，因此也就无法使用微任务解决这个缺陷（个人猜测）<br>
    </li>
    <li>
        withLatestFrom 解决了zip、combineLatest中的多重继承问题（glitch）<br>
        glitch 问题的根源在于多个Observable同时有数据到来时都会向下游吐出数据，因此会出现同一个时刻吐出多个数据的情况<br>
        withLatestFrom解决方式：<br>
        1、提供一个控制者Observble作为Controller，其他Observable作为从属仅提供数据（不向下游提供数据）<br>
        2、controller向下游吐出数据（因此也把Subscription提供给下游）<br>
        3、controller自身有数据时会检查 从属者是否已经提供数据（而不管数据何时提供的）<br>
        上面三点决定了在订阅controller之前势必要先订阅从属者最后订阅controller，也就给了当同时多个Observable吐出数据时从属者更新数据的机会
    </li>
    <li>
        race 第一个吐出数据Observable对象保留订阅状态，其他observable直接取消订阅；”赢者通吃“
    </li>
    <li>
        startWith 直接在订阅后吐出参数，而不管observable内部协调机制
    </li>
    <li>
        forkjoin 等待所有bservable对象都完结（completed）时候把所有observable对象的最后一个数据组合后吐出
    </li>
</ul>
<p><strong>高阶 Observable</strong></p>
<ul>
    <li>mergeAll和concatAll都是把 Observable 对象降低一维</li>
    <ul>
        <li>concatAll 是按先后顺序把 子数据流 头(subscribe)尾(completed)相连，</li>
        <li>因此</li>
        <li>1、最后形成的数据流时间比任何一个子数据流都要长；</li>
        <li>2、某时刻的数据只属于一个 子数据流；</li>
        <li>3、子数据流的订阅时间可能晚于 该数据流 在下游的出现时间；</li>
        <li>4、若中间的子数据流不 complete，后面的子数据流永远不会被订阅。</li>
        <li>5、concatAll 可比喻为 单线程</li>
        <li>mergeAll 是只要有子数据流在 下游 出现，就会被订阅。</li>
        <li>因此</li>
        <li>1、最后形成的数据流执行时间可能和 某一个子数据流 时间相同。</li>
        <li>2、某时刻的数据可能源于多个数据流</li>
        <li>3、子数据流在下游的出现时间和订阅时间基本一致（逻辑上时间相同）</li>
        <li>4、所有的子数据流都会被订阅</li>
        <li>5、mergeAll 可比喻为 并发</li>
    </ul>
    <li>
        zipAll 与 conbineAll
        <div>
            现象：<br>
        1、ho$ 若永不完结，该数据流永不吐出数据<br>
        2、ho$ 吐出一组数据(列表)的时间点 与 该组数据中最后到达的那个数据(单一数据)到达时间点基本相同<br>
        推测<br>
        1、ho$完结之后才会按子数据流到达顺序依次订阅所有子数据流(逻辑上同时订阅)，应用一遍对应的策略<br>
        2、拿到所有子数据流（ho$完结）,在内部调用一下zip或combineLatest(zip(...obsArr)、combineLatest(...obsArr))
        </div>
        <ul>
            <li>
        zipAll
        <div>
        <svg style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;" height="219" width="612"><line stroke-dasharray="3,3" stroke-width="1" stroke="#767676" y2="89" x2="67.8286" y1="37" x1="67.8286"></line><line stroke-dasharray="3,3" stroke-width="1" stroke="#767676" y2="141" x2="114.3086" y1="37" x1="114.3086"></line><line stroke-dasharray="3,3" stroke-width="1" stroke="#767676" y2="193" x2="160.7886" y1="37" x1="160.7886"></line><g transform="translate(0, 11)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(0, 0, 0, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="0"></line><line style="shape-rendering: crispedges;" stroke="#000000" stroke-width="2" y2="26" x2="140.4858" y1="26" x1="0"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(0, 0, 0, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#000000" stroke-width="2" y2="48.5" x2="140.48579999999998" y1="3.5" x1="140.48579999999998"></line><g><g style="transform: translate(46.8286px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#767676" stroke="#000000" stroke-width="0" r="15" cy="0" cx="0"></circle></g><g style="transform: translate(93.3086px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#767676" stroke="#000000" stroke-width="0" r="15" cy="0" cx="0"></circle></g><g style="transform: translate(139.789px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#767676" stroke="#000000" stroke-width="0" r="15" cy="0" cx="0"></circle></g></g></g></g><g transform="translate(0, 63)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(118, 118, 118, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="46.8286"></line><line style="shape-rendering: crispedges;" stroke="#767676" stroke-width="2" y2="26" x2="142.1126" y1="26" x1="46.8286"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(118, 118, 118, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#767676" stroke-width="2" y2="48.5" x2="142.11260000000001" y1="3.5" x1="142.11260000000001"></line><g><g style="transform: translate(95.1678px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">0:0</text></g><g style="transform: translate(141.88px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">0:1</text></g></g></g></g><g transform="translate(0, 115)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(118, 118, 118, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="93.3086"></line><line style="shape-rendering: crispedges;" stroke="#767676" stroke-width="2" y2="26" x2="280.7392" y1="26" x1="93.3086"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(118, 118, 118, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#767676" stroke-width="2" y2="48.5" x2="280.7392" y1="3.5" x1="280.7392"></line><g><g style="transform: translate(186.85px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">1:0</text></g><g style="transform: translate(279.926px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">1:1</text></g></g></g></g><g transform="translate(0, 167)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(118, 118, 118, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="139.7886"></line><line style="shape-rendering: crispedges;" stroke="#767676" stroke-width="2" y2="26" x2="422.968" y1="26" x1="139.7886"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(118, 118, 118, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#767676" stroke-width="2" y2="48.5" x2="422.96799999999996" y1="3.5" x1="422.96799999999996"></line><g><g style="transform: translate(282.715px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">2:0</text></g><g style="transform: translate(422.271px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">2:1</text></g></g></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"></g></svg>
        <svg style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;" height="63" width="612"><g transform="translate(0, 11)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(0, 0, 0, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="0"></line><line style="shape-rendering: crispedges;" stroke="#000000" stroke-width="2" y2="26" x2="419.5982" y1="26" x1="0"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(0, 0, 0, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#000000" stroke-width="2" y2="48.5" x2="419.59819999999996" y1="3.5" x1="419.59819999999996"></line><g><g style="transform: translate(279.461px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#000000" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(0, 0, 0); dominant-baseline: central;" y="0" x="0">...</text><circle fill="transparent" stroke="#000000" stroke-width="2" r="15" cy="0" cx="0"></circle></g><g style="transform: translate(418.785px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#000000" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(0, 0, 0); dominant-baseline: central;" y="0" x="0">...</text><circle fill="transparent" stroke="#000000" stroke-width="2" r="15" cy="0" cx="0"></circle></g></g></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"></g></svg>
        <p>内部数据为：00-10-20、01-11-21</p>
        </div>
    </li>
    <li>
        combineAll
        <div>
            <svg style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;" height="219" width="612"><line stroke-dasharray="3,3" stroke-width="1" stroke="#767676" y2="89" x2="67.48" y1="37" x1="67.48"></line><line stroke-dasharray="3,3" stroke-width="1" stroke="#767676" y2="141" x2="113.96000000000001" y1="37" x1="113.96000000000001"></line><line stroke-dasharray="3,3" stroke-width="1" stroke="#767676" y2="193" x2="160.5562" y1="37" x1="160.5562"></line><g transform="translate(0, 11)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(0, 0, 0, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="0"></line><line style="shape-rendering: crispedges;" stroke="#000000" stroke-width="2" y2="26" x2="140.2534" y1="26" x1="0"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(0, 0, 0, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#000000" stroke-width="2" y2="48.5" x2="140.2534" y1="3.5" x1="140.2534"></line><g><g style="transform: translate(46.48px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#767676" stroke="#000000" stroke-width="0" r="15" cy="0" cx="0"></circle></g><g style="transform: translate(92.96px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#767676" stroke="#000000" stroke-width="0" r="15" cy="0" cx="0"></circle></g><g style="transform: translate(139.556px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#767676" stroke="#000000" stroke-width="0" r="15" cy="0" cx="0"></circle></g></g></g></g><g transform="translate(0, 63)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(118, 118, 118, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="46.480000000000004"></line><line style="shape-rendering: crispedges;" stroke="#767676" stroke-width="2" y2="26" x2="142.1126" y1="26" x1="46.480000000000004"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(118, 118, 118, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#767676" stroke-width="2" y2="48.5" x2="142.11260000000001" y1="3.5" x1="142.11260000000001"></line><g><g style="transform: translate(94.4706px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">0:0</text></g><g style="transform: translate(141.996px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">0:1</text></g></g></g></g><g transform="translate(0, 115)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(118, 118, 118, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="92.96000000000001"></line><line style="shape-rendering: crispedges;" stroke="#767676" stroke-width="2" y2="26" x2="190.2194" y1="26" x1="92.96000000000001"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(118, 118, 118, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#767676" stroke-width="2" y2="48.5" x2="190.2194" y1="3.5" x1="190.2194"></line><g><g style="transform: translate(141.648px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">1:0</text></g><g style="transform: translate(189.871px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">1:1</text></g></g></g></g><g transform="translate(0, 167)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(118, 118, 118, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="139.5562"></line><line style="shape-rendering: crispedges;" stroke="#767676" stroke-width="2" y2="26" x2="235.305" y1="26" x1="139.5562"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(118, 118, 118, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#767676" stroke-width="2" y2="48.5" x2="235.305" y1="3.5" x1="235.305"></line><g><g style="transform: translate(187.895px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">2:0</text></g><g style="transform: translate(234.492px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#767676" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(118, 118, 118); dominant-baseline: central;" y="0" x="0">2:1</text></g></g></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"></g></svg>
            <svg style="display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;" height="63" width="612"><g transform="translate(0, 11)"><g transform="translate(21, 0)"><line style="shape-rendering: crispedges;" stroke="rgba(0, 0, 0, 0.2)" stroke-width="2" y2="26" x2="581" y1="26" x1="0"></line><line style="shape-rendering: crispedges;" stroke="#000000" stroke-width="2" y2="26" x2="236.2346" y1="26" x1="0"></line><path style="transition: fill 0.2s ease-in-out 0s;" fill="rgba(0, 0, 0, 0.2)" d="M0 0 L10 5 L0 10 z" transform="translate(581, 21)"></path><line style="opacity: 1; transition: opacity 0.5s ease-in-out 0s;" stroke="#000000" stroke-width="2" y2="48.5" x2="236.2346" y1="3.5" x1="236.2346"></line><g><g style="transform: translate(186.269px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#000000" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(0, 0, 0); dominant-baseline: central;" y="0" x="0">...</text><circle fill="transparent" stroke="#000000" stroke-width="2" r="15" cy="0" cx="0"></circle></g><g style="transform: translate(232.749px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;"><circle fill="#ffffff" stroke="#000000" stroke-width="2" r="15" cy="0" cx="0"></circle><text style="fill: rgb(0, 0, 0); dominant-baseline: central;" y="0" x="0">...</text><text style="font-size: 10px; dominant-baseline: text-after-edge;" y="-18" x="0">×3</text><circle fill="transparent" stroke="#000000" stroke-width="2" r="15" cy="0" cx="0"></circle></g></g></g></g><g style="text-anchor: start; dominant-baseline: text-before-edge;"></g></svg>
            <p>内部数据为：00-10-20、01-10-20,01-11-20,01-11-21(这三条数据在同一个时刻出现(逻辑上同时))</p>
            <p>上面数据的变化顺序恰恰能反映出三个子数据流的订阅顺序，比如00 -&gt; 01这次变化 恰恰是因为第一个子数据流最先被订阅并且它吐出了01。</p>
            <p>内部数据的每次变化都对应一个外部宏任务执行</p>
        </div>
    </li>
        </ul>
    </li>
</ul>
<p><strong>自我感想</strong></p>
<ul>
    <li>到目前为止，自己实现的一些简单功能基本全都用到了状态变量，用非函数式实现函数式...挺讽刺的。</li>
</ul>
</div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":"\u003cp\u003erxjs 既实现了观察者模式又实现了迭代器模式；\u003c/p\u003e\n\u003cp\u003e观察者模式：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n作为一个controller把数据源（用户行为）和处理器（handler）通过source$.subscribe(observer)结合在一起；\n\u003c/li\u003e\n\u003cli\u003e通过运算符组建数据流通管道处理数据；\u003c/li\u003e\n\u003c/ul\u003e\n迭代器模式：\n\u003cul\u003e\n\u003cli\u003e数据源要求观察者（subscriber）必须实现next、complete、error中至少一个方法，从而保证数据流通；\u003c/li\u003e\n\u003cli\u003esource$.subscribe(observer)观察者作为参数交给数据源，保证观察者“随时可用”\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e高阶函数可用来保存执行上下文 context,从而摆脱 this 困扰,但也因此不能直接使用链式调用；\u003c/p\u003e\n\u003cp\u003e关于 fakeRepeatWhen(repeatWhen) 的问题：\u003c/p\u003e\n\u003cul\u003e\n    \u003cli\u003e期望：\u003cbr\u003e\n        1、controller$数据流complete的时候能够下游也能正常结束，\u003cbr\u003e\n        2、controller$数据流complete的时候能够在重新订阅自身\n    \u003c/li\u003e\n    \u003cli\u003e\n        实际：\u003cbr\u003e\n        1、controller$数据流只是不再产生数据，不再调用nextFunc了\u003cbr\u003e\n        2、实际上当controller$数据流complete的时候，并没有调用observer.complete,即下游并没有被通知到。\u003cbr\u003e\n        3、而且因为递归中缺少判断条件，会导致无限循环\n    \u003c/li\u003e\n    \u003cli\u003e\n        解决方法：\u003cbr\u003e\n        当一个Observable 还有数据产生时，会先调用observer.next，\n        然后在某一个时刻调用 observer.complete\u003cbr\u003e\n        如果该Observable 已经没有数据，会直接调用 observer.complete\u003cbr\u003e\n        所以只需要维护一个根据 observer.next 是否调用的来改变状态的状态变量即可\u003cbr\u003e\n        该变量同时也表示Observable是否已经complete\n    \u003c/li\u003e\n    \u003cli\u003e\n        上述方法缺陷：\u003cbr\u003e\n        如果fakeRepeatWhen(notifier)中notifier返回一个cold Observable，\n        该Observable在每次调用完observer.next 之后调用 observer.complete，\n        又会导致 controller$ 重新订阅 =\u0026gt; 无限循环;\u003cbr\u003e\n        关键在于如何知道controller$ 什么时候应该重新订阅，什么时候应该调用observer.complete\n    \u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e合并运算符\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n    \u003cli\u003emerge用于合并多个数据源，常用于异步处理多个数据源，先到先得；可指定一个concurrent用与控制数据源并行数量。\u003c/li\u003e\n    \u003cli\u003e\n        zip和combineLatest的区别在于\u003cbr\u003e\nzip每吐出一个数据集合都需要等待所有数据源吐出数据（数据源的数据是 and 的关系）;\u003cbr\u003e\ncombineLatest 仅仅在第一次吐出数据集合的时候等待所有数据源，后面要任意数据源产生数据都会吐出数据集合（数据源的数据从 and 变为 or）\u003cbr\u003e\n    combineLatest 小缺陷：\u003cbr\u003e\n    对于同时到来的两个或多个数据，本应该产生一个输出，实际结果却产生了两个或多个，\u003cbr\u003e\n    因为多个数据源同时产生数据，同时产生多个宏任务，因此也就无法使用微任务解决这个缺陷（个人猜测）\u003cbr\u003e\n    \u003c/li\u003e\n    \u003cli\u003e\n        withLatestFrom 解决了zip、combineLatest中的多重继承问题（glitch）\u003cbr\u003e\n        glitch 问题的根源在于多个Observable同时有数据到来时都会向下游吐出数据，因此会出现同一个时刻吐出多个数据的情况\u003cbr\u003e\n        withLatestFrom解决方式：\u003cbr\u003e\n        1、提供一个控制者Observble作为Controller，其他Observable作为从属仅提供数据（不向下游提供数据）\u003cbr\u003e\n        2、controller向下游吐出数据（因此也把Subscription提供给下游）\u003cbr\u003e\n        3、controller自身有数据时会检查 从属者是否已经提供数据（而不管数据何时提供的）\u003cbr\u003e\n        上面三点决定了在订阅controller之前势必要先订阅从属者最后订阅controller，也就给了当同时多个Observable吐出数据时从属者更新数据的机会\n    \u003c/li\u003e\n    \u003cli\u003e\n        race 第一个吐出数据Observable对象保留订阅状态，其他observable直接取消订阅；”赢者通吃“\n    \u003c/li\u003e\n    \u003cli\u003e\n        startWith 直接在订阅后吐出参数，而不管observable内部协调机制\n    \u003c/li\u003e\n    \u003cli\u003e\n        forkjoin 等待所有bservable对象都完结（completed）时候把所有observable对象的最后一个数据组合后吐出\n    \u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e高阶 Observable\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n    \u003cli\u003emergeAll和concatAll都是把 Observable 对象降低一维\u003c/li\u003e\n    \u003cul\u003e\n        \u003cli\u003econcatAll 是按先后顺序把 子数据流 头(subscribe)尾(completed)相连，\u003c/li\u003e\n        \u003cli\u003e因此\u003c/li\u003e\n        \u003cli\u003e1、最后形成的数据流时间比任何一个子数据流都要长；\u003c/li\u003e\n        \u003cli\u003e2、某时刻的数据只属于一个 子数据流；\u003c/li\u003e\n        \u003cli\u003e3、子数据流的订阅时间可能晚于 该数据流 在下游的出现时间；\u003c/li\u003e\n        \u003cli\u003e4、若中间的子数据流不 complete，后面的子数据流永远不会被订阅。\u003c/li\u003e\n        \u003cli\u003e5、concatAll 可比喻为 单线程\u003c/li\u003e\n        \u003cli\u003emergeAll 是只要有子数据流在 下游 出现，就会被订阅。\u003c/li\u003e\n        \u003cli\u003e因此\u003c/li\u003e\n        \u003cli\u003e1、最后形成的数据流执行时间可能和 某一个子数据流 时间相同。\u003c/li\u003e\n        \u003cli\u003e2、某时刻的数据可能源于多个数据流\u003c/li\u003e\n        \u003cli\u003e3、子数据流在下游的出现时间和订阅时间基本一致（逻辑上时间相同）\u003c/li\u003e\n        \u003cli\u003e4、所有的子数据流都会被订阅\u003c/li\u003e\n        \u003cli\u003e5、mergeAll 可比喻为 并发\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003cli\u003e\n        zipAll 与 conbineAll\n        \u003cdiv\u003e\n            现象：\u003cbr\u003e\n        1、ho$ 若永不完结，该数据流永不吐出数据\u003cbr\u003e\n        2、ho$ 吐出一组数据(列表)的时间点 与 该组数据中最后到达的那个数据(单一数据)到达时间点基本相同\u003cbr\u003e\n        推测\u003cbr\u003e\n        1、ho$完结之后才会按子数据流到达顺序依次订阅所有子数据流(逻辑上同时订阅)，应用一遍对应的策略\u003cbr\u003e\n        2、拿到所有子数据流（ho$完结）,在内部调用一下zip或combineLatest(zip(...obsArr)、combineLatest(...obsArr))\n        \u003c/div\u003e\n        \u003cul\u003e\n            \u003cli\u003e\n        zipAll\n        \u003cdiv\u003e\n        \u003csvg style=\"display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;\" height=\"219\" width=\"612\"\u003e\u003cline stroke-dasharray=\"3,3\" stroke-width=\"1\" stroke=\"#767676\" y2=\"89\" x2=\"67.8286\" y1=\"37\" x1=\"67.8286\"\u003e\u003c/line\u003e\u003cline stroke-dasharray=\"3,3\" stroke-width=\"1\" stroke=\"#767676\" y2=\"141\" x2=\"114.3086\" y1=\"37\" x1=\"114.3086\"\u003e\u003c/line\u003e\u003cline stroke-dasharray=\"3,3\" stroke-width=\"1\" stroke=\"#767676\" y2=\"193\" x2=\"160.7886\" y1=\"37\" x1=\"160.7886\"\u003e\u003c/line\u003e\u003cg transform=\"translate(0, 11)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(0, 0, 0, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"0\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#000000\" stroke-width=\"2\" y2=\"26\" x2=\"140.4858\" y1=\"26\" x1=\"0\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(0, 0, 0, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#000000\" stroke-width=\"2\" y2=\"48.5\" x2=\"140.48579999999998\" y1=\"3.5\" x1=\"140.48579999999998\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(46.8286px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#767676\" stroke=\"#000000\" stroke-width=\"0\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003cg style=\"transform: translate(93.3086px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#767676\" stroke=\"#000000\" stroke-width=\"0\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003cg style=\"transform: translate(139.789px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#767676\" stroke=\"#000000\" stroke-width=\"0\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg transform=\"translate(0, 63)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(118, 118, 118, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"46.8286\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"26\" x2=\"142.1126\" y1=\"26\" x1=\"46.8286\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(118, 118, 118, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"48.5\" x2=\"142.11260000000001\" y1=\"3.5\" x1=\"142.11260000000001\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(95.1678px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e0:0\u003c/text\u003e\u003c/g\u003e\u003cg style=\"transform: translate(141.88px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e0:1\u003c/text\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg transform=\"translate(0, 115)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(118, 118, 118, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"93.3086\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"26\" x2=\"280.7392\" y1=\"26\" x1=\"93.3086\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(118, 118, 118, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"48.5\" x2=\"280.7392\" y1=\"3.5\" x1=\"280.7392\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(186.85px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e1:0\u003c/text\u003e\u003c/g\u003e\u003cg style=\"transform: translate(279.926px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e1:1\u003c/text\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg transform=\"translate(0, 167)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(118, 118, 118, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"139.7886\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"26\" x2=\"422.968\" y1=\"26\" x1=\"139.7886\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(118, 118, 118, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"48.5\" x2=\"422.96799999999996\" y1=\"3.5\" x1=\"422.96799999999996\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(282.715px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e2:0\u003c/text\u003e\u003c/g\u003e\u003cg style=\"transform: translate(422.271px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e2:1\u003c/text\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg style=\"text-anchor: start; dominant-baseline: text-before-edge;\"\u003e\u003c/g\u003e\u003c/svg\u003e\n        \u003csvg style=\"display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;\" height=\"63\" width=\"612\"\u003e\u003cg transform=\"translate(0, 11)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(0, 0, 0, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"0\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#000000\" stroke-width=\"2\" y2=\"26\" x2=\"419.5982\" y1=\"26\" x1=\"0\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(0, 0, 0, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#000000\" stroke-width=\"2\" y2=\"48.5\" x2=\"419.59819999999996\" y1=\"3.5\" x1=\"419.59819999999996\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(279.461px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(0, 0, 0); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e...\u003c/text\u003e\u003ccircle fill=\"transparent\" stroke=\"#000000\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003cg style=\"transform: translate(418.785px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(0, 0, 0); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e...\u003c/text\u003e\u003ccircle fill=\"transparent\" stroke=\"#000000\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg style=\"text-anchor: start; dominant-baseline: text-before-edge;\"\u003e\u003c/g\u003e\u003c/svg\u003e\n        \u003cp\u003e内部数据为：00-10-20、01-11-21\u003c/p\u003e\n        \u003c/div\u003e\n    \u003c/li\u003e\n    \u003cli\u003e\n        combineAll\n        \u003cdiv\u003e\n            \u003csvg style=\"display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;\" height=\"219\" width=\"612\"\u003e\u003cline stroke-dasharray=\"3,3\" stroke-width=\"1\" stroke=\"#767676\" y2=\"89\" x2=\"67.48\" y1=\"37\" x1=\"67.48\"\u003e\u003c/line\u003e\u003cline stroke-dasharray=\"3,3\" stroke-width=\"1\" stroke=\"#767676\" y2=\"141\" x2=\"113.96000000000001\" y1=\"37\" x1=\"113.96000000000001\"\u003e\u003c/line\u003e\u003cline stroke-dasharray=\"3,3\" stroke-width=\"1\" stroke=\"#767676\" y2=\"193\" x2=\"160.5562\" y1=\"37\" x1=\"160.5562\"\u003e\u003c/line\u003e\u003cg transform=\"translate(0, 11)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(0, 0, 0, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"0\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#000000\" stroke-width=\"2\" y2=\"26\" x2=\"140.2534\" y1=\"26\" x1=\"0\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(0, 0, 0, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#000000\" stroke-width=\"2\" y2=\"48.5\" x2=\"140.2534\" y1=\"3.5\" x1=\"140.2534\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(46.48px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#767676\" stroke=\"#000000\" stroke-width=\"0\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003cg style=\"transform: translate(92.96px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#767676\" stroke=\"#000000\" stroke-width=\"0\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003cg style=\"transform: translate(139.556px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#767676\" stroke=\"#000000\" stroke-width=\"0\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg transform=\"translate(0, 63)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(118, 118, 118, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"46.480000000000004\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"26\" x2=\"142.1126\" y1=\"26\" x1=\"46.480000000000004\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(118, 118, 118, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"48.5\" x2=\"142.11260000000001\" y1=\"3.5\" x1=\"142.11260000000001\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(94.4706px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e0:0\u003c/text\u003e\u003c/g\u003e\u003cg style=\"transform: translate(141.996px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e0:1\u003c/text\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg transform=\"translate(0, 115)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(118, 118, 118, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"92.96000000000001\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"26\" x2=\"190.2194\" y1=\"26\" x1=\"92.96000000000001\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(118, 118, 118, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"48.5\" x2=\"190.2194\" y1=\"3.5\" x1=\"190.2194\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(141.648px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e1:0\u003c/text\u003e\u003c/g\u003e\u003cg style=\"transform: translate(189.871px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e1:1\u003c/text\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg transform=\"translate(0, 167)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(118, 118, 118, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"139.5562\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"26\" x2=\"235.305\" y1=\"26\" x1=\"139.5562\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(118, 118, 118, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#767676\" stroke-width=\"2\" y2=\"48.5\" x2=\"235.305\" y1=\"3.5\" x1=\"235.305\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(187.895px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e2:0\u003c/text\u003e\u003c/g\u003e\u003cg style=\"transform: translate(234.492px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#767676\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(118, 118, 118); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e2:1\u003c/text\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg style=\"text-anchor: start; dominant-baseline: text-before-edge;\"\u003e\u003c/g\u003e\u003c/svg\u003e\n            \u003csvg style=\"display: block; font-size: 14px; font-family: Arial, sans-serif; dominant-baseline: central; text-anchor: middle; cursor: default; user-select: none;\" height=\"63\" width=\"612\"\u003e\u003cg transform=\"translate(0, 11)\"\u003e\u003cg transform=\"translate(21, 0)\"\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"rgba(0, 0, 0, 0.2)\" stroke-width=\"2\" y2=\"26\" x2=\"581\" y1=\"26\" x1=\"0\"\u003e\u003c/line\u003e\u003cline style=\"shape-rendering: crispedges;\" stroke=\"#000000\" stroke-width=\"2\" y2=\"26\" x2=\"236.2346\" y1=\"26\" x1=\"0\"\u003e\u003c/line\u003e\u003cpath style=\"transition: fill 0.2s ease-in-out 0s;\" fill=\"rgba(0, 0, 0, 0.2)\" d=\"M0 0 L10 5 L0 10 z\" transform=\"translate(581, 21)\"\u003e\u003c/path\u003e\u003cline style=\"opacity: 1; transition: opacity 0.5s ease-in-out 0s;\" stroke=\"#000000\" stroke-width=\"2\" y2=\"48.5\" x2=\"236.2346\" y1=\"3.5\" x1=\"236.2346\"\u003e\u003c/line\u003e\u003cg\u003e\u003cg style=\"transform: translate(186.269px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(0, 0, 0); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e...\u003c/text\u003e\u003ccircle fill=\"transparent\" stroke=\"#000000\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003cg style=\"transform: translate(232.749px, 26px) scale(1); transition: transform 0.5s ease-in-out 0s;\"\u003e\u003ccircle fill=\"#ffffff\" stroke=\"#000000\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003ctext style=\"fill: rgb(0, 0, 0); dominant-baseline: central;\" y=\"0\" x=\"0\"\u003e...\u003c/text\u003e\u003ctext style=\"font-size: 10px; dominant-baseline: text-after-edge;\" y=\"-18\" x=\"0\"\u003e×3\u003c/text\u003e\u003ccircle fill=\"transparent\" stroke=\"#000000\" stroke-width=\"2\" r=\"15\" cy=\"0\" cx=\"0\"\u003e\u003c/circle\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003c/g\u003e\u003cg style=\"text-anchor: start; dominant-baseline: text-before-edge;\"\u003e\u003c/g\u003e\u003c/svg\u003e\n            \u003cp\u003e内部数据为：00-10-20、01-10-20,01-11-20,01-11-21(这三条数据在同一个时刻出现(逻辑上同时))\u003c/p\u003e\n            \u003cp\u003e上面数据的变化顺序恰恰能反映出三个子数据流的订阅顺序，比如00 -\u0026gt; 01这次变化 恰恰是因为第一个子数据流最先被订阅并且它吐出了01。\u003c/p\u003e\n            \u003cp\u003e内部数据的每次变化都对应一个外部宏任务执行\u003c/p\u003e\n        \u003c/div\u003e\n    \u003c/li\u003e\n        \u003c/ul\u003e\n    \u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e自我感想\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n    \u003cli\u003e到目前为止，自己实现的一些简单功能基本全都用到了状态变量，用非函数式实现函数式...挺讽刺的。\u003c/li\u003e\n\u003c/ul\u003e\n","menuArray":[{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9pbmRleC5tZA==","label":"rsjx","subMenus":[{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvaW5kZXgubWQ=","label":"conbination-operators","subMenus":[{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvaW5kZXgubWQ=","label":"index","subMenus":null},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvbWVyZ2UubWQ=","label":"merge","subMenus":null},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvcmFjZS5tZA==","label":"race","subMenus":null},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvc3RhcnRXaXRoLm1k","label":"startWith","subMenus":null},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20ubWQ=","label":"withLatestFrom","subMenus":null},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9jb25iaW5hdGlvbi1vcGVyYXRvcnMvemlwLWNvbmJpbmVMYXRlc3QubWQ=","label":"zip-conbineLatest","subMenus":null}]},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL2luZGV4Lm1k","label":"high-order Observables","subMenus":[{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL2NvbmNhdEFsbC1tZXJnZUFsbC5tZA==","label":"concatAll-mergeAll","subMenus":null},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL2luZGV4Lm1k","label":"index","subMenus":null},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL3N3aXRjaEFMTC1leGhhdXN0Lm1k","label":"switchALL-exhaust","subMenus":null},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9oaWdoLW9yZGVyIE9ic2VydmFibGVzL3ppcEFsbC1jb25iaW5lQWxsLm1k","label":"zipAll-conbineAll","subMenus":null}]},{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9pbmRleC5tZA==","label":"index","subMenus":null}]}]},"__N_SSG":true},"page":"/[id]","query":{"id":"L2hvbWUvamlhbmcvY29kZXMvcnhqcy13YXkvcG9zdHMvcnNqeC9pbmRleC5tZA=="},"buildId":"f9hAjcuOP35Y7HD3O1xXE","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>